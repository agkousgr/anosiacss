{% extends 'layout.html.twig' %}

{% block bodyId %}checkout{% endblock %}
{% block title %} | Checkout{% endblock %}
{% block slider %}{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('build/css/orders.css') }}" rel="stylesheet"/>
{% endblock %}
{% block breadcrumb %}

{% endblock %}

{% block body %}
    {% include 'partials/sidebar_login.html.twig' %}
    {% include 'partials/swipe_menu.html.twig' %}
    {% include 'partials/site_header.html.twig' %}
    <div class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-md-6"><h1>Καλάθι</h1></div>
            </div>
        </div>
    </div>
    <div class="section" style="background-image:url({{ asset('images/bg-5.jpg') }});">
        <div class="container">
            {% for message in app.flashes('notice') %}
                <div class="flash-notice">
                    {{ message }}
                </div>
            {% endfor %}
            <section id="main">
                <div class="container">
                    <div class="columns_inner">
                        <section id="content">
                            <div class="row">
                                <div class="col-md-8">
                                    <section id="checkout-personal-information-step"
                                             class="checkout-step -current -reachable js-current-step">
                                        <h1 class="step-title h3">
                                            <i class="material-icons rtl-no-flip done"></i>
                                            <span class="step-number">1</span>
                                            Personal Information
                                            <span class="step-edit text-muted"><i
                                                        class="material-icons edit">mode_edit</i> Edit</span>
                                        </h1>

                                        <div class="content">


                                            <ul class="nav nav-inline my-2" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" data-toggle="tab"
                                                       href="#checkout-guest-form" role="tab"
                                                       aria-controls="checkout-guest-form" aria-selected="true">
                                                        Ολοκλήρωση ως επισκέπτης
                                                    </a>
                                                </li>

                                                <li class="nav-item">
                                                    <span href="nav-separator"> | </span>
                                                </li>

                                                <li class="nav-item">
                                                    <a class="nav-link " data-link-action="show-login-form"
                                                       data-toggle="tab" href="#checkout-login-form" role="tab"
                                                       aria-controls="checkout-login-form">
                                                        Είσοδος
                                                    </a>
                                                </li>
                                            </ul>

                                            <div class="tab-content">
                                                <div class="tab-pane active" id="checkout-guest-form" role="tabpanel">
                                                    {{ form_start(registerForm) }}
                                                    <section>
                                                        <input name="id_customer" value="" type="hidden">
                                                        <div class="form-group row ">
                                                            {{ form_label(registerForm.firstname, 'Όνομα', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                            <div class="col-md-6">
                                                                {{ form_widget(registerForm.firstname, {'attr': {'class': 'form-control'}}) }}
                                                            </div>
                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row ">
                                                            {{ form_label(registerForm.lastname, 'Επώνυμο', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                            <div class="col-md-6">
                                                                {{ form_widget(registerForm.lastname, {'attr': {'class': 'form-control'}}) }}
                                                            </div>
                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row ">
                                                            {{ form_label(registerForm.username, 'E-mail', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                            <div class="col-md-6">
                                                                {{ form_widget(registerForm.username, {'attr': {'class': 'form-control'}}) }}
                                                            </div>
                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row ">
                                                            {{ form_label(registerForm.username, 'Κωδικός', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                            <div class="col-md-6">
                                                                <div class="input-group js-parent-focus">
                                                                    {{ form_widget(registerForm.password, {'attr': {'class': 'form-control'}}) }}
                                                                    {#<input class="form-control js-child-focus js-visible-password"#}
                                                                    {#name="password" value="" pattern=".{5,}"#}
                                                                    {#required="" type="password">#}
                                                                    <span class="input-group-btn">
                                                                        <button class="btn" type="button"
                                                                                data-action="show-password"
                                                                                data-text-show="Εμφάνιση"
                                                                                data-text-hide="Απόκρυψη">
                                                                            Show
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row ">
                                                            <label class="col-md-3 form-control-label">
                                                            </label>
                                                            <div class="col-md-6">
                                                                <span class="custom-checkbox">
                                                                    {{ form_widget(registerForm.special_offers) }}
                                                                    {#<span><i class="material-icons rtl-no-flip checkbox-checked"></i></span>#}
                                                                    <label>Να λαμβάνω προσφορές από το κατάστημα</label>
                                                                </span>
                                                            </div>
                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>

                                                        <div class="form-group row ">
                                                            <label class="col-md-3 form-control-label">
                                                            </label>
                                                            <div class="col-md-6">
                                                                <span class="custom-checkbox">
                                                                    {{ form_widget(registerForm.newsletter) }}
                                                                    {#<span><i class="material-icons rtl-no-flip checkbox-checked"></i></span>#}
                                                                    <label>Εγγραφή στο newsletter<br>
                                                                        <em>Μπορείτε να διαγραφείτε οποιαδήποτε στιγμή επιθυμείτε.</em>
                                                                    </label>
                                                                </span>
                                                            </div>

                                                            <div class="col-md-3 form-control-comment">
                                                            </div>
                                                        </div>
                                                    </section>
                                                    <footer class="form-footer clearfix">
                                                        <input name="submitAddress" value="1" type="hidden">
                                                        <button type="submit" class="continue btn btn-primary float-xs-right" name="confirm-addresses" value="1">
                                                            Επόμενο
                                                        </button>
                                                    </footer>
                                                    {{ form_end(registerForm) }}
                                                </div>
                                                <div class="tab-pane " id="checkout-login-form" role="tabpanel"
                                                     aria-hidden="true">


                                                    <form id="login-form"
                                                          action="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/en/order"
                                                          method="post">

                                                        <section>


                                                            <input name="back" value="" type="hidden">


                                                            <div class="form-group row ">
                                                                <label class="col-md-3 form-control-label required">
                                                                    Email
                                                                </label>
                                                                <div class="col-md-6">


                                                                    <input class="form-control" name="email" value=""
                                                                           required="" type="email">


                                                                </div>

                                                                <div class="col-md-3 form-control-comment">


                                                                </div>
                                                            </div>


                                                            <div class="form-group row ">
                                                                <label class="col-md-3 form-control-label required">
                                                                    Password
                                                                </label>
                                                                <div class="col-md-6">


                                                                    <div class="input-group js-parent-focus">
                                                                        <input class="form-control js-child-focus js-visible-password"
                                                                               name="password" value="" pattern=".{5,}"
                                                                               required="" type="password">
                                                                        <span class="input-group-btn">
                                                                            <button class="btn" type="button"
                                                                                    data-action="show-password"
                                                                                    data-text-show="Show"
                                                                                    data-text-hide="Hide">
                                                                                Show
                                                                            </button>
                                                                        </span>
                                                                    </div>


                                                                </div>

                                                                <div class="col-md-3 form-control-comment">


                                                                </div>
                                                            </div>


                                                            <div class="forgot-password">
                                                                <a href="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/en/password-recovery"
                                                                   rel="nofollow">
                                                                    Forgot your password?
                                                                </a>
                                                            </div>
                                                        </section>


                                                        <footer class="form-footer text-sm-center clearfix">
                                                            <input name="submitLogin" value="1" type="hidden">

                                                            <button class="continue btn btn-primary float-xs-right"
                                                                    name="continue" data-link-action="sign-in"
                                                                    type="submit" value="1">
                                                                Continue
                                                            </button>

                                                        </footer>


                                                    </form>


                                                </div>
                                            </div>


                                        </div>
                                    </section>


                                    {#-reachable -current js-current-step#}
                                    <section id="checkout-addresses-step" class="checkout-step -unreachable">
                                        <h1 class="step-title h3">
                                            <i class="material-icons rtl-no-flip done"></i>
                                            <span class="step-number">2</span>
                                            Addresses
                                            <span class="step-edit text-muted"><i
                                                        class="material-icons edit">mode_edit</i> Edit</span>
                                        </h1>

                                        <div class="content">

                                            <div class="js-address-form">
                                                <form method="POST"
                                                      action="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/en/order"
                                                      data-refresh-url="//demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/en/order?ajax=1&amp;action=addressForm">


                                                    <p>
                                                        The selected address will be used both as your personal address
                                                        (for invoice) and as your delivery address.
                                                    </p>

                                                    <div id="delivery-address">

                                                        <div class="js-address-form">


                                                            <section class="form-fields">


                                                                <input name="id_address" value="" type="hidden">


                                                                <input name="id_customer" value="" type="hidden">


                                                                <input name="back" value="" type="hidden">


                                                                <input name="token"
                                                                       value="2029de3814154ec49e4265cb24fd20f4"
                                                                       type="hidden">


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        First name
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="firstname"
                                                                               value="asdfs" maxlength="32" required=""
                                                                               type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        Last name
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="lastname"
                                                                               value="asdsf" maxlength="32" required=""
                                                                               type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label">
                                                                        Company
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="company"
                                                                               value="" maxlength="255" type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">

                                                                        Optional

                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label">
                                                                        VAT number
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="vat_number"
                                                                               value="" type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">

                                                                        Optional

                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        Address
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="address1"
                                                                               value="" maxlength="128" required=""
                                                                               type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label">
                                                                        Address Complement
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="address2"
                                                                               value="" maxlength="128" type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">

                                                                        Optional

                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        City
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="city" value=""
                                                                               maxlength="64" required="" type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        Zip/Postal Code
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="postcode"
                                                                               value="" maxlength="12" required=""
                                                                               type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label required">
                                                                        Country
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <select class="form-control form-control-select js-country"
                                                                                name="id_country" required="">
                                                                            <option value="" disabled="" selected="">--
                                                                                please choose --
                                                                            </option>
                                                                            <option value="17" selected="">United
                                                                                Kingdom
                                                                            </option>
                                                                        </select>


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">


                                                                    </div>
                                                                </div>


                                                                <div class="form-group row ">
                                                                    <label class="col-md-3 form-control-label">
                                                                        Phone
                                                                    </label>
                                                                    <div class="col-md-6">


                                                                        <input class="form-control" name="phone"
                                                                               value="" maxlength="32" type="text">


                                                                    </div>

                                                                    <div class="col-md-3 form-control-comment">

                                                                        Optional

                                                                    </div>
                                                                </div>


                                                                <input name="saveAddress" value="delivery"
                                                                       type="hidden">
                                                                <div class="form-group row">
                                                                    <div class="col-md-9 col-md-offset-3">
                                                                        <input name="use_same_address" value="1"
                                                                               checked="" type="checkbox">
                                                                        <label>Use this address for invoice too</label>
                                                                    </div>
                                                                </div>

                                                            </section>


                                                            <footer class="form-footer clearfix">
                                                                <input name="submitAddress" value="1" type="hidden">


                                                                <button type="submit"
                                                                        class="continue btn btn-primary float-xs-right"
                                                                        name="confirm-addresses" value="1">
                                                                    Continue
                                                                </button>


                                                            </footer>


                                                        </div>


                                                    </div>
                                                </form>


                                            </div>

                                        </div>
                                    </section>


                                    <section class="checkout-step -unreachable" id="checkout-delivery-step">
                                        <h1 class="step-title h3">
                                            <span class="step-number">3</span> Shipping Method
                                        </h1>
                                    </section>


                                    <section class="checkout-step -unreachable" id="checkout-payment-step">
                                        <h1 class="step-title h3">
                                            <span class="step-number">4</span> Payment
                                        </h1>
                                    </section>


                                </div>
                                {% set cartSubTotal = 0 %}
                                {% set cartTotal = 0 %}
                                {% set cartShippingCost = 0 %}
                                {% for pr in cartItems %}
                                    {% set cartSubTotal = cartSubTotal + (pr.webPrice|number_format(2, '.', ','))*pr.quantity %}
                                {% endfor %}
                                <div class="col-md-4">
                                    <section id="js-checkout-summary" class="card js-cart">
                                        <div class="card-block">

                                            <div class="cart-summary-products">
                                                <p>{{ totalCartItems }}
                                                    {% if totalCartItems == 1 %}
                                                        προϊόν
                                                    {% else %}
                                                        προϊόντα
                                                    {% endif %}</p>
                                                <p>
                                                    <a href="#" data-toggle="collapse"
                                                       data-target="#cart-summary-product-list">
                                                        Λεπτομέρειες
                                                    </a>
                                                </p>
                                                <div class="collapse" id="cart-summary-product-list">
                                                    <ul class="media-list">
                                                        {% set cartSubTotal = 0 %}
                                                        {% set cartTotal = 0 %}
                                                        {% set cartShippingCost = 0 %}
                                                        {% for pr in cartItems %}
                                                            <li class="media">
                                                                <div class="media-left">
                                                                    <a href="{{ path('product_view', {'id':pr.id}) }}"
                                                                       title="voluptate velit esse">
                                                                        <img class="media-object"
                                                                             src="{{ pr.imageUrl }}"
                                                                             alt="{{ pr.name }}">
                                                                    </a>
                                                                </div>
                                                                <div class="media-body">
                                                                    <span class="product-name">{{ pr.name }}</span>
                                                                    <span class="product-quantity">x{{ pr.quantity }}</span>
                                                                    <span class="product-price float-xs-right">{{ ((pr.webPrice|number_format(2, '.', ','))*pr.quantity)|number_format(2, ',', '.') }}
                                                                        €</span>
                                                                </div>
                                                            </li>
                                                            {% set cartSubTotal = cartSubTotal + (pr.webPrice|number_format(2, '.', ','))*pr.quantity %}
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="cart-summary-line cart-summary-subtotals"
                                                 id="cart-subtotal-products">
                                                <span class="label">Μερικό σύνολο</span>
                                                <span class="value">{{ cartSubTotal|number_format(2, ',', '.') }}</span>
                                            </div>
                                            <div class="cart-summary-line cart-summary-subtotals"
                                                 id="cart-subtotal-shipping">
                                                <span class="label">Μεταφορικά</span>
                                                <span class="value">Δωρεάν</span>
                                            </div>
                                        </div>
                                        <hr class="separator">
                                        {% set cartTotal = cartSubTotal + cartShippingCost %}
                                        <div class="card-block cart-summary-totals">
                                            <div class="cart-summary-line cart-total">
                                                <span class="label">Σύνολο (με ΦΠΑ)</span>
                                                <span class="value">{{ cartTotal|number_format(2, ',', '.') }}</span>
                                            </div>
                                            <div class="cart-summary-line">
                                                <span class="label sub"></span>
                                                <span class="value sub"></span>
                                            </div>
                                        </div>
                                    </section>

                                    <div id="block-reassurance">
                                        <ul>
                                            <li>
                                                <div class="block-reassurance-item">
                                                    <img src="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/modules/blockreassurance/img/ic_verified_user_black_36dp_1x.png"
                                                         alt="Security policy (edit with Customer reassurance module)">
                                                    <span class="h6">Security policy (edit with Customer reassurance
                                                        module)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="block-reassurance-item">
                                                    <img src="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/modules/blockreassurance/img/ic_local_shipping_black_36dp_1x.png"
                                                         alt="Delivery policy (edit with Customer reassurance module)">
                                                    <span class="h6">Delivery policy (edit with Customer reassurance
                                                        module)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="block-reassurance-item">
                                                    <img src="https://demo.templatetrip.com/Prestashop/PRS06/PRS176_gym/modules/blockreassurance/img/ic_swap_horiz_black_36dp_1x.png"
                                                         alt="Return policy (edit with Customer reassurance module)">
                                                    <span class="h6">Return policy (edit with Customer reassurance
                                                        module)</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                </div>
                                <!-- Right Block: cart subtotal & cart total -->
                                <div class="cart-grid-right col-xs-12 col-lg-4">
                                    <div class="card cart-summary">
                                        <div class="cart-detailed-totals">
                                            <div class="card-block">
                                                <div class="cart-summary-line" id="cart-subtotal-products">
                                                    <span class="label js-subtotal">
                                                        {{ totalCartItems }}
                                                        {% if totalCartItems == 1 %}
                                                            προϊόν
                                                        {% else %}
                                                            προϊόντα
                                                        {% endif %}
                                                    </span>
                                                    <span class="value">{{ cartSubTotal|number_format(2, ',', '.') }}
                                                        €</span>
                                                </div>
                                                <div class="cart-summary-line" id="cart-subtotal-shipping">
                                                    <span class="label">
                                                        Μεταφορικά
                                                    </span>
                                                    <span class="value">Δωρεάν</span>
                                                    <div>
                                                        <small class="value"></small>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr class="separator">
                                            <div class="card-block">
                                                {% set cartTotal = cartSubTotal + cartShippingCost %}
                                                <div class="cart-summary-line cart-total">
                                                    <span class="label">Σύνολο (με ΦΠΑ)</span>
                                                    <span class="value">{{ cartTotal|number_format(2, ',', '.') }}
                                                        €</span>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                    </div>

                </div>

            </section>
        </div>
        {% include 'home_page_modules/14_newsletter.html.twig' %}
        {% include 'home_page_modules/15_social.html.twig' %}
        {% include 'partials/footer.html.twig' %}
    </div>
{% endblock %}