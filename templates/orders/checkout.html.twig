{% extends 'layout.html.twig' %}

{% block bodyId %}checkout{% endblock %}
{% block title %} | Checkout{% endblock %}
{% block slider %}{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('build/css/orders.css') }}" rel="stylesheet"/>
    <style>
        #cart-info {
            position: -webkit-sticky;
            position: sticky;
            top: 160px;
        }
        .error {
            color: #ff0000;
        }
        #content h4 {
            padding-bottom: 15px;
        }
        #content h5 {
            float: left;
            padding-right: 20px;
        }
        .disabled {
            color: #c5c5c5;
        }
        .disabled a {
            color: #c5c5c5;
            cursor: default;
        }
        #checkout_step1_series label, #checkout_step1_shippingType label {
            padding-right: 10px;
            padding-left: 5px;
        }
        #checkout-personal-information-step h4 {
            padding-top: 15px;
            padding-bottom: 0;
        }
    </style>
{% endblock %}

{% block breadcrumb %}

{% endblock %}

{% block body %}
    {% include 'partials/sidebar_login.html.twig' %}
    {#{% include 'partials/sidebar_cart.html.twig' %}#}
    {% include 'partials/swipe_menu.html.twig' %}
    {% include 'partials/site_header.html.twig' %}
    <div class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-md-6"><h1>Ολοκλήρωση αγοράς</h1></div>
            </div>
        </div>
    </div>
    <div class="section" style="background-image:url({{ asset('images/bg-5.jpg') }});">
        <div class="container">
            {% for message in app.flashes('notice') %}
                <div class="flash-notice">
                    {{ message }}
                </div>
            {% endfor %}
            {% for message in app.flashes('success') %}
                <div class="flash-success">
                    {{ message }}
                </div>
            {% endfor %}
            <section id="main">
                {% if cartItems|length > 0 %}
                    <div class="columns_inner">
                        <section id="content">
                            <div class="row">
                                <div id="pireaus_container" style="text-align: center; display:none;">
                                    <form action="https://paycenter.piraeusbank.gr/redirection/pay.aspx" id="pireaus-post" target="pireaus-iframe" method="post">
                                        <input type="hidden" name="AcquirerId" value="{{ bankConfig.AcquirerId }}">
                                        <input type="hidden" name="MerchantId" value="{{ bankConfig.MerchantId }}">
                                        <input type="hidden" name="PosId" value="{{ bankConfig.PosId }}">
                                        <input type="hidden" name="User" value="{{ bankConfig.User }}">
                                        <input type="hidden" name="LanguageCode" value="{{ bankConfig.LanguageCode }}">
                                        <input type="hidden" name="MerchantReference" value="128">
                                        {#<input type="hidden" name="ParamBackLink" value="">#}
                                    </form>
                                    <iframe id="pireaus_iframe" name="pireaus-iframe" width="800" height="455"></iframe>
                                </div>
                                <div class="col-md-8">
                                    <h5 id="checkoutStep1"><a href="">Στοιχεία πελάτη ></a></h5>
                                    <h5 id="checkoutStep2" class="disabled"><a href="">Τρόπος πληρωμής</a></h5>
                                    {#<h5 id="checkoutStep2" class="disabled"><a href="">Τρόπος πληρωμής ></a></h5>#}
                                    {#<h5 class="disabled">Επιβεβαίωση παραγγελίας</h5>#}

                                    <div class="tab-content">
                                        {% if loggedUser is empty %}
                                            {#<ul class="nav nav-inline my-2" role="tablist">#}
                                            {#<li class="nav-item">#}
                                            <section id="checkout-userdata-step" class="checkout-step">
                                                <div>
                                                    {#<a class="nav-link active" data-toggle="tab"#}
                                                    {#href="#checkout-guest-form" role="tab"#}
                                                    {#aria-controls="checkout-guest-form"#}
                                                    {#aria-selected="true">#}
                                                    Ολοκλήρωση ως επισκέπτης
                                                    {#</a>#}
                                                    {#</li>#}
                                                    {#<li class="nav-item">#}
                                                    <span href="nav-separator"> | </span>
                                                    {#</li>#}
                                                    {#<li class="nav-item">#}
                                                    <a class="nav-link toggle-sidebar"
                                                       data-link-action="show-login-form"
                                                       data-toggle="tab"
                                                       href="" role="tab"
                                                       aria-controls="checkout-login-form">
                                                        Είσοδος
                                                    </a>
                                                    {#</li>#}
                                                    {#</ul>#}
                                                </div>
                                            </section>
                                        {% endif %}
                                        <section id="checkout-personal-information-step"
                                                 class="checkout-step -reachable -current js-current-step">

                                            <div class="content">
                                                <div class="tab-content">
                                                    <div class="tab-pane active"
                                                         id="checkout-guest-form" role="tabpanel">
                                                        {#{% form_theme step1Form 'form_template/bootstrap_3_step3_checkout.html.twig' %}#}
                                                        {{ form_start(step1Form) }}
                                                        <section class="form-fields">
                                                            <h4>Προσωπικά στοιχεία</h4>
                                                            <div class="form-group row ">
                                                                {#{{ form_label(step1Form.firstname, 'Όνομα', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.firstname, {'attr': {'class': 'form-control', 'placeholder': 'Όνομα'}}) }}
                                                                </div>
                                                                {#<div class="col-md-3 form-control-comment">#}
                                                                {#</div>#}
                                                                {#</div>#}

                                                                {#<div class="form-group row ">#}
                                                                {#{{ form_label(step1Form.lastname, 'Επώνυμο', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.lastname, {'attr': {'class': 'form-control', 'placeholder': 'Επώνυμο'}}) }}
                                                                </div>
                                                                {#<div class="col-md-3 form-control-comment">#}
                                                                {#</div>#}
                                                            </div>
                                                            <div class="form-group row ">
                                                                {#{{ form_label(step1Form.email, 'E-mail', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.email, {'attr': {'class': 'form-control', 'placeholder': 'E-mail'}}) }}
                                                                </div>
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.phone01, {'attr': {'class': 'form-control', 'placeholder': 'Τηλέφωνο'}}) }}
                                                                </div>
                                                                {#<div class="col-md-3 form-control-comment">#}
                                                                {#</div>#}
                                                            </div>
                                                            {% if loggedUser is empty %}
                                                                <div class="form-group row "
                                                                     style="background-color: #eee; padding:10px 0;">
                                                                    {#<label class="col-md-6 form-control-label required control-label"#}
                                                                    {#for="autocomplete-main-address">Συμπληρώστε#}
                                                                    {#τη διεύθυσνή σας</label>#}

                                                                    <div class="col-md-6">
                                                                        <input id="autocomplete-main-address"
                                                                               class="form-control form-control"
                                                                               placeholder="Εισάγετε οδό και αριθμό"
                                                                               type="text"/>
                                                                    </div>
                                                                </div>
                                                            {% endif %}
                                                            <div class="form-group row ">
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.address, {'attr': {'class': 'form-control', 'placeholder': 'Διεύθυνση'}}) }}
                                                                </div>
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.zip, {'attr': {'class': 'form-control', 'placeholder': 'Τ.Κ.'}}) }}
                                                                </div>
                                                            </div>

                                                            <div class="form-group row ">
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.city, {'attr': {'class': 'form-control', 'placeholder': 'Πόλη'}}) }}
                                                                </div>
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.district, {'attr': {'class': 'form-control', 'placeholder': 'Περιοχή'}}) }}
                                                                </div>
                                                            </div>

                                                            <div class="clearfix"></div>
                                                            <div class="form-group row">
                                                                <div class="col-md-12">
                                                                    {{ form_widget(step1Form.newsletter) }}
                                                                    {{ form_label(step1Form.newsletter, 'Εγγραφή στο newsletter. Μπορείτε να διαγραφείτε οποιαδήποτε στιγμή επιθυμείτε.') }}
                                                                </div>
                                                            </div>
                                                            <div id="newsletter-fields" class="hidden">
                                                                <div class="form-group row">
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.newsLetterAge, {'attr': {'class': 'form-control', 'placeholder': 'Ηλικία'}}) }}
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.newsLetterGender, {'attr': {'class': 'form-control no-border'}}) }}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </section>
                                                        <section class="form-fields">
                                                            <h4>Στοιχεία τιμολόγησης</h4>
                                                            {% if loggedUser is not empty and checkout.address|length > 0 %}
                                                                {#<article#}
                                                                {#class="address-item selected"#}
                                                                {#id="id-address-delivery-address-8">#}
                                                                {#<header class="h4">#}
                                                                {#<label class="radio-block">#}
                                                                {#<div class="address">#}
                                                                {#<span>{{ checkout.address }}</span>#}
                                                                {#<br>{{ checkout.zip }}#}
                                                                {#<br>{{ checkout.city }}#}
                                                                {#<br>{{ checkout.district }}#}
                                                                {#</div>#}
                                                                {#</label>#}
                                                                {#</header>#}
                                                                {#</article>#}
                                                            {% else %}
                                                                {#<div class="form-group row "#}
                                                                     {#style="background-color: #eee; padding-top:10px;">#}
                                                                    {#<label class="col-md-3 form-control-label required control-label"#}
                                                                           {#for="autocomplete-main-address">Συμπληρώστε#}
                                                                        {#τη διεύθυσνή σας</label>#}
                                                                    {#<div class="col-md-6">#}
                                                                        {#<input id="autocomplete-main-address"#}
                                                                               {#class="form-control form-control"#}
                                                                               {#placeholder="Εισάγετε την διεύθυνσή σας"#}
                                                                               {#type="text"/>#}
                                                                    {#</div>#}
                                                                {#</div>#}
                                                                {#<div class="form-group row ">#}
                                                                    {#{{ form_label(step1Form.address, 'Διεύθυνση', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                    {#<div class="col-md-6">#}
                                                                        {#{{ form_widget(step1Form.address, {'attr': {'class': 'form-control'}}) }}#}
                                                                    {#</div>#}
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                {#</div>#}


                                                                {#<div class="form-group row ">#}
                                                                    {#{{ form_label(step1Form.zip, 'Τ.Κ.', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                    {#<div class="col-md-6">#}
                                                                        {#{{ form_widget(step1Form.zip, {'attr': {'class': 'form-control'}}) }}#}
                                                                    {#</div>#}
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                {#</div>#}

                                                                {#<div class="form-group row ">#}
                                                                    {#{{ form_label(step1Form.city, 'Πόλη', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                    {#<div class="col-md-6">#}
                                                                        {#{{ form_widget(step1Form.city, {'attr': {'class': 'form-control'}}) }}#}
                                                                    {#</div>#}
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                {#</div>#}

                                                                {#<div class="form-group row ">#}
                                                                    {#{{ form_label(step1Form.district, 'Περιοχή', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                    {#<div class="col-md-6">#}
                                                                        {#{{ form_widget(step1Form.district, {'attr': {'class': 'form-control'}}) }}#}
                                                                    {#</div>#}
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                {#</div>#}

                                                                {#<div class="form-group row ">#}
                                                                    {#{{ form_label(step1Form.phone01, 'Τηλέφωνο', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                    {#<div class="col-md-6 ">#}
                                                                        {#{{ form_widget(step1Form.phone01, {'attr': {'class': 'form-control'}}) }}#}
                                                                    {#</div>#}
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                {#</div>#}
                                                            {% endif %}
                                                            <div id="invoice-fields" class="hidden">
                                                                <div class="form-group row ">
                                                                    <div class="col-md-6 ">
                                                                        {{ form_widget(step1Form.afm, {'attr': {'class': 'form-control', 'placeholder': 'ΑΦΜ'}}) }}
                                                                    </div>
                                                                    <div class="col-md-6 ">
                                                                        {{ form_widget(step1Form.irs, {'attr': {'class': 'form-control', 'placeholder': 'ΔΟΥ'}}) }}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row ">
                                                                <div class="col-md-6">
                                                                    {{ form_widget(step1Form.series, {'attr': {'class': 'form-control no-border'}}) }}
                                                                </div>
                                                                <div class="col-md-3 form-control-comment">
                                                                </div>
                                                            </div>
                                                            <h4>Διεύθυνση αποστολής</h4>
                                                            <div class="form-group row">
                                                                <div class="col-md-9">
                                                                    <input name="use_same_address"
                                                                           id="use_same_address"
                                                                           value="1"
                                                                           type="checkbox">
                                                                    <label>Αποστολή σε διαφορετικό παραλήπτη</label>
                                                                </div>
                                                            </div>
                                                            <div id="ship-address" class="hidden">
                                                                {% if loggedUser is not empty %}
                                                                    <div class="row">
                                                                        {% if addresses|length > 0 %}
                                                                            {% for address in addresses['addresses'] %}
                                                                                <div class="col-sm-4">
                                                                                    <div role="button"
                                                                                         data-toggle="popover"
                                                                                         data-trigger="hover"
                                                                                         data-html="true"
                                                                                         data-placement="top"
                                                                                         title="{{ address.name }}"
                                                                                         data-content="{{ address.address }}<br>{{ address.zip }}<br>{{ address.city }}<br>{{ address.district }}"
                                                                                         class="form-group"
                                                                                         style="border: 1px #cccccc solid; padding: 1px 10px">
                                                                                        <span>
                                                                                            <input type="radio"
                                                                                                   name="address"
                                                                                                   data-id="{{ address.id }}">
                                                                                            {{ address.name }}
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            {% endfor %}
                                                                        {% endif %}
                                                                    </div>
                                                                {% endif %}
                                                                <div class="form-group row ">
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.recepientName, {'attr': {'class': 'form-control', 'placeholder': 'Ονοματεπώνυμο παραλήπτη'}}) }}
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row "
                                                                     style="background-color: #eee; padding:10px 0;">
                                                                    {#<label class="col-md-3 form-control-label required control-label"#}
                                                                    {#for="autocomplete">Συμπληρώστε τη διεύθυσνή#}
                                                                    {#σας</label>#}
                                                                    <div class="col-md-6">
                                                                        <input id="autocomplete-ship-address"
                                                                               class="form-control form-control"
                                                                               placeholder="Εισάγετε οδό και αριθμό παραλήπτη"
                                                                               type="text"/>
                                                                    </div>
                                                                    {#<div class="col-md-3 form-control-comment">#}
                                                                    {#</div>#}
                                                                </div>

                                                                <div class="form-group row ">
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.shipAddress, {'attr': {'class': 'form-control', 'placeholder': 'Διεύθυνση'}}) }}
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.shipZip, {'attr': {'class': 'form-control', 'placeholder': 'Τ.Κ.'}}) }}
                                                                    </div>
                                                                </div>

                                                                <div class="form-group row ">
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.shipCity, {'attr': {'class': 'form-control', 'placeholder': 'Πόλη'}}) }}
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        {{ form_widget(step1Form.shipDistrict, {'attr': {'class': 'form-control', 'placeholder': 'Περιοχή'}}) }}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </section>
                                                        <section class="form-fields">
                                                            <h4>Τρόπος Αποστολής</h4>
                                                            <div class="form-group row ">
                                                                {#{{ form_label(step1Form.shippingType, 'Τρόπος Αποστολής', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}#}
                                                                <div class="col-md-9">
                                                                    {{ form_widget(step1Form.shippingType, {'attr': {'class': 'form-control no-border'}}) }}
                                                                </div>
                                                                {#<div class="col-md-3 form-control-comment">#}
                                                                {#</div>#}
                                                            </div>
                                                            <div class="form-group row ">
                                                                {{ form_label(step1Form.comments, 'Παρατηρήσεις', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                                <div class="col-md-9">
                                                                    {{ form_widget(step1Form.comments, {'attr': {'class': 'form-control'}}) }}
                                                                </div>
                                                            </div>
                                                        </section>
                                                        <footer id="checkout-footer" class="form-footer clearfix">
                                                            <input name="submitAddress" value="1"
                                                                   type="hidden">
                                                            <button id="confirm-addresses" type="submit"
                                                                    class="continue btn btn-primary float-xs-right"
                                                                    name="confirm-addresses" value="1">
                                                                Επόμενο
                                                            </button>
                                                        </footer>
                                                        {{ form_end(step1Form) }}
                                                    </div>

                                                </div>
                                            </div>
                                        </section>
                                        <section class="checkout-step -reachable -current js-current-step hidden"
                                                 id="checkout-payment-step">
                                            <div class="content">
                                                <div class="payment-options ">
                                                    {% form_theme step2Form 'form_template/bootstrap_3_step3_checkout.html.twig' %}
                                                    {{ form_start(step2Form) }}
                                                    <div id="delivery-address">
                                                        <div class="js-address-form">
                                                            <section class="form-fields">
                                                                <div class="form-group row ">
                                                                    {{ form_label(step2Form.paymentType, 'Τρόπος Πληρωμής', {'label_attr': {'class': 'col-md-3 form-control-label required'}}) }}
                                                                    <div class="col-md-9">
                                                                        {{ form_widget(step2Form.paymentType, {'attr': {'class': 'form-control no-border'}}) }}
                                                                    </div>
                                                                </div>
                                                                <div class="clearfix"></div>
                                                                <div class="form-group row ">
                                                                    {{ form_label(step2Form.agreeTerms, 'Έχω διαβάσει και αποδέχομαι ανεπιφύλακτα τους Όρους Χρήσης') }}
                                                                    <div class="col-md-12">
                                                                        {{ form_widget(step2Form.agreeTerms) }}
                                                                    </div>
                                                                </div>

                                                            </section>

                                                            <footer class="form-footer clearfix">
                                                                <input name="submitAddress" value="1"
                                                                       type="hidden">
                                                                <button id="confirm-checkout"
                                                                        type="submit"
                                                                        class="continue btn btn-primary float-xs-right"
                                                                        name="confirm-checkout"
                                                                        value="1">
                                                                    Ολοκλήρωση Παραγγελίας
                                                                </button>
                                                            </footer>
                                                        </div>
                                                    </div>
                                                    {{ form_end(step2Form) }}
                                                </div>

                                                <div class="modal fade" id="modal">
                                                    <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                            <button type="button" class="close"
                                                                    data-dismiss="modal"
                                                                    aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                            <div class="js-modal-content"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </section>
                                        <div role="tabpanel" class="tab-pane" id="tab-3">
                                            tab3
                                        </div>
                                    </div>

                                </div>
                                {% set cartSubTotal = 0 %}
                                {% set cartTotal = 0 %}
                                {% set cartShippingCost = 0 %}
                                {% for pr in cartItems %}
                                    {% set cartSubTotal = cartSubTotal + (pr.webPrice|number_format(2, '.', ','))*pr.quantity %}
                                {% endfor %}
                                <div id="cart-info" class="col-md-4 hidden-sm hidden-xs">
                                    <section id="js-checkout-summary" class="card js-cart">
                                        <div class="card-block">

                                            <div class="cart-summary-products">
                                                <a href="#" data-toggle="collapse"
                                                   style="font-size: 20px;"
                                                   data-target="#cart-summary-product-list">
                                                    Λεπτομέρειες καλαθιού
                                                </a>
                                                ({{ totalCartItems }}
                                                {% if totalCartItems == 1 %}
                                                    προϊόν)
                                                {% else %}
                                                    προϊόντα)
                                                {% endif %}
                                                <a title="Επιστροφή στο καλάθι" href="{{ path('cart_view') }}">
                                                    <i class="fas fa-shopping-cart cart-link"
                                                       style="color:#333333; font-size: 20px; float:right;"></i>
                                                </a>
                                            </div>
                                            <div class="collapse" style="display:block"
                                                 id="cart-summary-product-list">
                                                <ul class="media-list">
                                                    {% set cartSubTotal = 0 %}
                                                    {% set cartTotal = 0 %}
                                                    {% for pr in cartItems %}
                                                        <li class="media">
                                                            <div class="media-left">
                                                                <a href="{{ path('product_view', {'id':pr.id}) }}"
                                                                   title="{{ pr.name }}">
                                                                    <img class="media-object"
                                                                         src="{{ pr.imageUrl }}"
                                                                         alt="{{ pr.name }}">
                                                                </a>
                                                            </div>
                                                            <div class="media-body">
                                                                <span class="product-name">{{ pr.name }}</span>
                                                                <span class="product-price float-xs-right pull-right">{{ ((pr.webPrice|number_format(2, '.', ','))*pr.quantity)|number_format(2, ',', '.') }}
                                                                    €</span>
                                                                <span style="padding-right: 10px;"
                                                                      class="product-quantity pull-right">x{{ pr.quantity }}</span>
                                                            </div>
                                                        </li>
                                                        {% set cartSubTotal = cartSubTotal + (pr.webPrice|number_format(2, '.', ','))*pr.quantity %}
                                                    {% endfor %}
                                                </ul>
                                            </div>

                                            <div class="cart-summary-line cart-summary-subtotals"
                                                 id="cart-subtotal-products">
                                                <span class="label">Μερικό σύνολο</span>
                                                <span class="value">€</span>
                                                <span id="cart-cost" data-cost="{{ cartSubTotal }}"
                                                      class="value">{{ cartSubTotal|number_format(2, ',', '.') }}</span>
                                            </div>
                                            <div class="cart-summary-line cart-summary-subtotals"
                                                 id="cart-subtotal-shipping">
                                                <span class="label">Μεταφορικά</span>
                                                <span class="value">€</span>
                                                {% if cartSubTotal - checkout.couponDisc|number_format(2, '.', ',') > 39 %}
                                                    <span id="shipping-cost" data-cost="0.00"
                                                          class="value">0,00</span>
                                                {% else %}
                                                    <span id="shipping-cost" data-cost="2.00"
                                                          class="value">2,00</span>
                                                {% endif %}
                                            </div>
                                            <div class="cart-summary-line cart-summary-subtotals hidden"
                                                 id="cart-subtotal-pay-on-delivery">
                                                <span class="label">Αντικαταβολή</span>
                                                <span class="value">€</span>
                                                <span id="pay-on-delivery-cost" data-cost="1.50"
                                                      class="value">1,50</span>
                                            </div>
                                            {% if checkout.couponDisc > 0 %}
                                                <div class="cart-summary-line" id="coupon-discount"
                                                     data-discount="{{ checkout.couponDisc|number_format(2, '.', ',') }}">
                                                    <span class="label js-subtotal">
                                                        Έκπτωση από κουπόνι
                                                    </span>
                                                    <span class="value">- {{ checkout.couponDisc|number_format(2, ',', '.') }}
                                                        €</span>
                                                </div>
                                            {% endif %}
                                            {% set discPerc = cartSubTotal * checkout.couponDiscPerc/100 %}
                                            {% if checkout.couponDiscPerc > 0 %}
                                                <div class="cart-summary-line" id="coupon-discount"
                                                     data-discount="{{ discPerc|number_format(2, '.', ',') }}">
                                                    <span class="label js-subtotal">
                                                        Έκπτωση από κουπόνι ({{ checkout.couponDiscPerc }}%)
                                                    </span>
                                                    <span class="value">- {{ discPerc|number_format(2, ',', '.') }}
                                                        €</span>
                                                </div>
                                            {% endif %}
                                        </div>
                                        <hr class="separator">
                                        {% set cartTotal = cartSubTotal + cartShippingCost - checkout.couponDisc - discPerc%}
                                        <div class="card-block cart-summary-totals">
                                            <div class="cart-summary-line cart-total">
                                                <span class="label">Σύνολο (με ΦΠΑ)</span>
                                                <span class="value">€</span>
                                                <span id="total-cost" data-cost="{{ cartTotal }}"
                                                      class="value">{{ cartTotal|number_format(2, ',', '.') }}
                                                </span>
                                            </div>
                                            <div class="cart-summary-line">
                                                <span class="label sub"></span>
                                                <span class="value sub"></span>
                                            </div>
                                        </div>
                                    </section>

                                </div>
                            </div>
                        </section>
                    </div>
                {% else %}
                    <div class="col-xs-12 general-message">Δεν υπάρχουν προϊόντα στο
                        καλάθι σας!
                    </div>
                {% endif %}
            </section>
        </div>
        {% include 'partials/footer.html.twig' %}
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {#<script src="{{ asset('build/js/jquery.validate.min.js') }}"></script>#}
    <script src="{{ asset('build/js/google-address.js') }}"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVgV2sJEAZFJAAMKf2nhnH7BxtMmQnnis&language=el&region=GR&libraries=places"></script>
    <script src="{{ asset('build/js/checkout.js') }}"></script>
    <script src="{{ asset('build/js/hide-top-cart.js') }}"></script>
{% endblock %}